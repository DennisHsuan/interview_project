{% extends 'base.html' %}
{% load static %}
{% block title %}
<title>菜單-新品上市</title>
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
<!-- Bootstrap js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8"
    crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<style>
    /*indicators(指標設定區)*/
    #ind.active {
        background-color: red;
    }

    #ind {
        background-color: black;
    }

    /*最上面的輪播設定*/
    #inner {
        max-width: 100%;
        height: 700px;
        padding-top: 40px;
    }

    /*菜單圖片設定*/
    #menu {
        width: 100%;
        height: 250px;
    }

    /*電影圖片設定*/
    #movie {
        max-width: 100%;
        height: auto;
        display: block;
    }

    /*切版-排的設定*/
    .row {
        padding: 20px;
        background-color: azure;
    }

    /*lazyload延遲加載設定*/
    .image {
        opacity: 0;
        transition: opacity 3s;
    }

    .loaded {
        opacity: 1;
    }

    /*電影區文字設定*/
    .title-name {
        font-weight: bold;
        
    }

    .date-name {
        font-weight: bold;
      
    }

    .image1 {
        left: 10px;
        top: 0px;
        display: flex;
        flex-direction: column;
    }
    .cursor{
        cursor:pointer
    }
    /*標題文字*/
    h2 {
        padding-top: 20px;
        font-weight: bold;
    }

    /* 上下頁箭頭設定 span 設定背景跟hover(滑動)變色 */
    span {
        background-color: black;
    }

    span:hover {
        background-color: red;
    }

    .citest {
        top: 580px;
    }
</style>
{% endblock %}
{% block content %}
<!-- 設定輪播時的(slide)滑動跟(fade)淡入、data-bs-ride="carousel"頁面加載就開始輪播-->
<div id="carousel_1" class="bg carousel slide carousel-fade" data-bs-ride="carousel">
    <!-- carousel Indicators(輪播指標) 設定指標區塊-->
    <div class="carousel-indicators">
        <button type="button" id="ind" data-bs-target="#carousel_1" data-bs-slide-to="0" class="active"
            aria-current="true" aria-label="Slide 1"></button>
        <button type="button" id="ind" data-bs-target="#carousel_1" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" id="ind" data-bs-target="#carousel_1" data-bs-slide-to="2" aria-label="Slide 3"></button>
        <button type="button" id="ind" data-bs-target="#carousel_1" data-bs-slide-to="3" aria-label="Slide 4"></button>
    </div>
    <!-- 輪播時的照片 -->
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img class="img-fluid d-block w-100 image lazyload" data-src="{% static 'images/new_products/oko.png' %}" id="inner"
                loading="lazy" alt="...">
        </div>
        <div class="carousel-item">
            <img class=" img-fluidd-block w-100 image lazyload" data-src="{% static 'images/new_products/cold.png' %}" id="inner"
                alt="...">
        </div>
        <div class="carousel-item">
            <img class="img-fluid d-block w-100 image lazyload" data-src="{% static 'images/new_products/litchi.png' %}"
                id="inner" alt="...">
        </div>
        <div class="carousel-item">
            <img class="img-fluid d-block w-100 image lazyload" data-src="{% static 'images/new_products/lemon.png' %}" id="inner"
                alt="...">
        </div>
    </div>
    <!-- 上下頁箭頭設定 -->
    <button class="carousel-control-prev" type="button" data-bs-target="#carousel_1" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">上一頁</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carousel_1" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">下一頁</span>
    </button>
</div>
<!-- 設定一個Layout網格(grid)-->
<div class="container text-center">
    <h2 class="text-danger fw-bold">菜單介紹</h2>
    <div class="row">
        {% for product in products %}
        <div class="col">
            <!-- 在包一個元件卡片(card) my-3(margin Y象限-距離3)-->
            <div class="card my-3 mx-auto" style="width: 18rem;">
                <!-- Lazyload(延遲加載) -->
                <img class="card-img-top image lazyload" data-src="/static/images/products/{{product.pimage}}" id="menu"
                    alt="...">
                <div class="card-body">
                    <!-- fw-bold 字體加粗 -->
                    <h5 class="card-title fw-bold">{{ product.pname }}</h5>
                    <p class="card-text">{{ product.pprice}}元</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!--第二個輪播-->
<div class="container text-center my-3 mx-auto">
    <h2 class="text-danger fw-bold">電影資訊</h2>
    <h5 class="text-secondary fw-bold">每天下午14點到晚上20點隨機播放</h5>
    <div id="carousel_2" class="carousel slide" data-bs-ride="carousel">
        <!-- carousel Indicators(輪播指標) 設定指標區塊-->
        <div class="carousel-indicators citest">
            <button type="button" id="ind" data-bs-target="#carousel_2" data-bs-slide-to="0" class="active"
                aria-current="true" aria-label="Slide 1"></button>
            <button type="button" id="ind" data-bs-target="#carousel_2" data-bs-slide-to="1"
                aria-label="Slide 2"></button>
            <button type="button" id="ind" data-bs-target="#carousel_2" data-bs-slide-to="2"
                aria-label="Slide 3"></button>
        </div>
        <!-- 輪播時的照片 -->
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="row position-relative">
                    <div class="col cursor" id="movie_1">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_1.jpg' %}" id="movie" loading="lazy" alt="...">
                        <h6 class="date-name">上映日 2023-03-29</h6>
                        <h5 class="title-name">龍與地下城：盜賊榮耀</h5>
                        </a>
                    </div>
                    <div class="col cursor" id="movie_2">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_2.jpg' %}" id="movie" alt="...">
                        <h6 class="date-name">上映日 2023-03-24</h6>
                        <h5 class="title-name">杏仁與海馬</h5>
                        </a>
                    </div>
                    <div class="col cursor" id="movie_3">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_3.jpg' %}" id="movie" alt="...">
                        <h6 class="date-name">上映日 2023-03-31</h6>
                        <h5 class="title-name">做工的人 電影版</h5>
                        </a>
                    </div>
                    <div class="col cursor" id="movie_4">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_4.jpg' %}" id="movie" alt="...">
                        <h6 class="date-name">上映日 2023-03-22</h6>
                        <h5 class="title-name">捍衛任務4</h5>
                        </a>
                    </div>
                </div>

            </div>
            <div class="carousel-item">
                <div class="row">
                    <div class="col cursor" id="movie_5">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_5.jpg' %}" id="movie" loading="lazy" alt="...">
                        <h6 class="date-name">上映日 2023-03-17</h6>
                        <h5 class="title-name">媽的多重宇宙(新譯版)</h5>
                        </a>
                    </div>
                    <div class="col cursor" id="movie_6">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_6.jpg' %}" id="movie" loading="lazy" alt="...">
                        <h6 class="date-name">上映日 2023-03-31</h6>
                        <h5 class="title-name">公主與野獸</h5>
                        </a>
                    </div>
                    <div class="col cursor" id="movie_7">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_7.jpg' %}" id="movie" loading="lazy" alt="...">
                        <h6 class="date-name">上映日 2023-03-31</h6>
                        <h5 class="title-name">鏡之孤城</h5>
                        </a>
                    </div>
                    <div class="col cursor" id="movie_8">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_8.jpg' %}" id="movie" loading="lazy" alt="...">
                        <h6 class="date-name">上映日 2023-03-16</h6>
                        <h5 class="title-name">沙贊!眾神之怒</h5>
                        </a>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <div class="row">
                    <div class="col cursor" id="movie_9">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_9.jpg' %}" id="movie" loading="lazy" alt="...">
                        <h6 class="date-name">上映日 2023-03-31</h6>
                        <h5 class="title-name">魔女宅急便</h5>
                        </a>
                    </div>
                    <div class="col cursor" id="movie_10">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_10.jpg' %}" id="movie" loading="lazy" alt="...">
                        <h6 class="date-name">上映日 2023-03-10</h6>
                        <h5 class="title-name">黑的教育</h5>
                        </a>
                    </div>
                    <div class="col cursor" id="movie_11">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_11.jpg' %}" id="movie" loading="lazy" alt="...">
                        <h6 class="date-name">上映日 2023-03-02</h6>
                        <h5 class="title-name">鈴芽之旅</h5>
                        </a>
                    </div>
                    <div class="col cursor" id="movie_12">
                        <a herf="#" title="測試"><img class="image1 d-block w-100 image lazyload"
                                data-src="{% static 'images/movies/245_12.jpg' %}" id="movie" loading="lazy" alt="...">
                        <h6 class="date-name">上映日 2023-03-31</h6>
                        <h5 class="title-name">靈魂伴侶</h5>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <!-- 上下頁箭頭設定 -->
        <button class="carousel-control-prev" type="button" data-bs-target="#carousel_2" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">上一頁</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carousel_2" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">下一頁</span>
        </button>
    </div>
</div>
<!-- addEventListener 增加監聽 -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const lazyloadImages = document.querySelectorAll(".lazyload");  //選擇全部的文件檔案(".lazyload")
        const observer = new IntersectionObserver(function (entries, observer) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.dataset.src;
                    img.classList.add("loaded");
                    observer.unobserve(img);
                }
            });
        });
        lazyloadImages.forEach(img => {
            observer.observe(img);
        });
    });
    /*電影資訊cursor(光標)點擊後的超連結*/
    $('#movie_1').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E9%BE%8D%E8%88%87%E5%9C%B0%E4%B8%8B%E5%9F%8E%EF%BC%9A%E7%9B%9C%E8%B3%8A%E6%A6%AE%E8%80%80-2D%E6%95%B8%E4%BD%8D-%E8%8B%B1%E8%AA%9E&movie_id=867';
    });
    $('#movie_2').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E6%9D%8F%E4%BB%81%E8%88%87%E6%B5%B7%E9%A6%AC-2D%E6%95%B8%E4%BD%8D-%E8%8B%B1%E8%AA%9E&movie_id=886'
        ;
    });
    $('#movie_3').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E5%81%9A%E5%B7%A5%E7%9A%84%E4%BA%BA%20%E9%9B%BB%E5%BD%B1%E7%89%88-2D%E6%95%B8%E4%BD%8D-%E5%9C%8B%E8%AA%9E&movie_id=861';
    });
    $('#movie_4').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E6%8D%8D%E8%A1%9B%E4%BB%BB%E5%8B%994-2D%E6%95%B8%E4%BD%8D-%E8%8B%B1%E8%AA%9E&movie_id=866';
    });
    $('#movie_5').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E5%AA%BD%E7%9A%84%E5%A4%9A%E9%87%8D%E5%AE%87%E5%AE%99(%E6%96%B0%E8%AD%AF%E7%89%88)-2D%E6%95%B8%E4%BD%8D-%E8%8B%B1%E8%AA%9E&movie_id=892';
    });
    $('#movie_6').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E5%85%AC%E4%B8%BB%E8%88%87%E9%87%8E%E7%8D%B8-2D%E6%95%B8%E4%BD%8D-%E5%9C%8B%E8%AA%9E&movie_id=894';
    });
    $('#movie_7').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E9%8F%A1%E4%B9%8B%E5%AD%A4%E5%9F%8E-2D%E6%95%B8%E4%BD%8D-%E6%97%A5%E8%AA%9E&movie_id=895';
    });
    $('#movie_8').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E6%B2%99%E8%B4%8A%EF%BC%81%E7%9C%BE%E7%A5%9E%E4%B9%8B%E6%80%92-2D%E6%95%B8%E4%BD%8D-%E8%8B%B1%E8%AA%9E&movie_id=820';
    });
    $('#movie_9').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E9%AD%94%E5%A5%B3%E5%AE%85%E6%80%A5%E4%BE%BF-2D%E6%95%B8%E4%BD%8D-%E6%97%A5%E8%AA%9E&movie_id=889';
    });
    $('#movie_10').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E9%BB%91%E7%9A%84%E6%95%99%E8%82%B2-2D%E6%95%B8%E4%BD%8D-%E5%9C%8B%E8%AA%9E&movie_id=860';
    });
    $('#movie_11').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E9%88%B4%E8%8A%BD%E4%B9%8B%E6%97%85-2D%E6%95%B8%E4%BD%8D-%E6%97%A5%E8%AA%9E&movie_id=849';
    });
    $('#movie_12').click(function(){
        // console.log($(this).data('url'));
        location.href='https://www.in89cinemax.com/film_detail.aspx?TheaterId=16&TheaterName=%E9%AB%98%E9%9B%84%E5%A4%A7%E7%AB%8B_in89%E8%B1%AA%E8%8F%AF%E5%BD%B1%E5%9F%8E&select_movie=%E9%9D%88%E9%AD%82%E4%BC%B4%E4%BE%B6-2D%E6%95%B8%E4%BD%8D-%E9%9F%93%E8%AA%9E&movie_id=888';
    });
</script>
{% endblock %}